[Whonix Homepage](https://sourceforge.net/p/whonix/wiki/Home/)

[TOC]

In past Whonix documentation stated "in your own interest you should do the leak tests". That was from a time, where Whonix was only useful for very advanced end users, because only textual instructions existed, no scripts, no source code and the Whonix concept was brand new. It is unrealistic, that all download users do and understand the leak tests. That's why it was removed from the Readme.

You are still invited and encouraged to do the leak tests, in fact, at the moment, there are probable not many people auditing Whonix security.

Unfortunately, leak testing is as complicated as programming. You can not learn it overnight and you won't find someone online, willing to teach you for free. That's really something you have to do on your own. We continue to list and document all leak test we are aware of, but we can not educate everyone in the depths of networking.

# Knowledge assumed #
* [Expected issues with popular test pages](https://trac.torproject.org/projects/tor/wiki/doc/build/BuildSignoff#Expectedissueswithpopulartestpages)
* Search for previous discussions before reporting.

# Leak Testing Websites #
There are two many websites for leak testing. (Some are offline.)

* [List 1](https://trac.torproject.org/projects/tor/wiki/doc/build/BuildSignoff#TestPagestoUse)
* [List 2](https://trac.torproject.org/projects/tor/wiki/doc/Testing/Tools#Sites)

None of the Leak Testing Websites was able to find out the IP of Whonix-Workstation, no matter if plugins, flash and/or java was activated.

# DNS Leak Tests #
## Online ##
* (http://www.dnsleaktest.com/)
* Also check out (http://check2ip.com/)

## Defunct /etc/resolv.conf ##
On the Whonix-Gateway 'sudo nano /etc/resolv.conf' and out comment everything (# before every line so everything is ignored).

    #nameserver 127.0.0.1

As a tests result the DNS requests in the Whonix-Workstation should still work while the DNS requests in the Whonix-Gateway no longer work.

## Using dig ##
Another very poor manish leak test:
Because Tor's DNS resolver does not handle AAAA records this will not return any google hostnames if run on Whonix-Workstation and DNS requests aren't leaking:

    dig AAAA google.com

## Defunct host DNS ##
Or render the DNS on your host defunct. Your host shouldn't be able to nslookup anymore, but Whonix-Workstation's DNS should still be functional.

# Leaks through the host or VM #
Shut down the Whonix-Gateway and start the Whonix-Workstation. The Whonix-Workstation shouldn't be able to exchange data with any outside target.

# Ping Test #
First, make sure both VMs are online. 
Since ICMP is not supported by Tor and filtered by Whonix firewall, you should not be able to ping any servers.

# Integrated tshark leaktest for Whonix 0.2.1 and above #
Alpha version. Works only with Whonix 0.2.1 and above. The necessary scripts for leak testing are now integrated into the Whonix machines.

    #OptionalFeatureNr.6# (ReachableDirAddresses and ReachableORAddresses gets automatically togled by the leaktest script.) 

On Whonix-Gateway start looking for leaks.

    # Login as user, open a shell as user or su user.
    sudo leaktest

On Whonix-Workstation try to produce a leak.

    # Login as user, open a shell as user or su user.
    sudo leaktest

The old article [LeakTestsOld] is still being kept.

* Original article.
* As copy and paste tutorial.
* For better understanding with more comments.
* Perhaps useful for similar projects.
* Optional additional tests.

# Other Leak Tests #
A similar project published another leak test. Read [How can I test if there is a leak in the setup respectively all traffic goes through Tor?](https://github.com/ra--/Tor-gateway/wiki/Faq). Has not be done with Whonix yet. If you do it, please share your results.

# See Also #
* [Test] 
