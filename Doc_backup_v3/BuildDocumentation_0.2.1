<!DOCTYPE html>
<!-- Server: sfn-web-17 -->


  










<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]>--> <html lang="en" class="no-js"> <!--<![endif]-->
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
    <title>Whonix / Documentation / BuildDocumentation_0.2.1</title>
    

<script src="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/js/sftheme/modernizr.custom.90514.js"></script>

<script src="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/js/sftheme/jquery-1.8.0.min.js"></script>

<script src="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/js/sftheme/header.js"></script>
<!--[if lt IE 7 ]>
  <script src="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/js/sftheme/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg'); //fix any <img> or .png_bg background-images </script>
<![endif]-->
<link href='//fonts.googleapis.com/css?family=Ubuntu:regular' rel='stylesheet' type='text/css'>
<style type="text/css">
    @font-face {
        font-family: "Pictos";
        src: url('http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.eot');
        src: local("â˜º"), url('http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.woff') format('woff'), url('http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.ttf') format('truetype'), url('http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.svg') format('svg');
    }
</style>
    <script type="text/javascript">
            /*jslint onevar: false, nomen: false, evil: true, css: true, plusplus: false, white: false, forin: true, on: true, immed: false */
            /*global confirm, alert, unescape, window, jQuery, $, net, COMSCORE */
    </script>
    
      <!-- ew:head_css -->

    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1364319766/_ew_/allura/css/forge/hilite.css"
                >
    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1364319766/_ew_/tool/wiki/css/wiki.css"
                >
    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/forge.css"
                >
    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1364319766/_ew_/_slim/css?href=css%2Fmarkitup_sf.css%3Bcss%2Fpage_list.css%3Bcss%2Fjquery.tagsinput.css"
                >
    
      
<!-- /ew:head_css -->

    
    
    
      <!-- ew:head_js -->

    
      
<!-- /ew:head_js -->

    
    

    
      <style type="text/css">
        #page-body.project---init-- #top_nav { display: none; }
#page-body.project---init-- #nav_menu_holder { display: none; margin-bottom: 0; }
#page-body.project---init-- #content_base {margin-top: 0; }
      </style>
    
    
<style>
  .hidden { display: none }
  a.notfound { color: #f00; }
</style>

      <style>.XSTTMlcLfCpjMjDGsvOlkaBE { display:none }</style>

    
<link rel="alternate" type="application/rss+xml" title="Page RSS" href="feed.rss"/>
<link rel="alternate" type="application/atom+xml" title="Page Atom" href="feed.atom"/>
<link rel="alternate" type="application/rss+xml" title="Wiki RSS" href="../feed.rss"/>
<link rel="alternate" type="application/atom+xml" title="Wiki Atom" href="../feed.atom"/>

    
    


<script type="text/javascript">
    var _gaq = _gaq || [];

    function _add_tracking(prefix, tracking_id, send_user) {
        _gaq.push([prefix+'._setAccount', tracking_id]);
        _gaq.push([prefix+'._setCustomVar', 1, 'Page Type', 'wiki', 3]);_gaq.push([prefix+'._trackPageview']);
    }
      _add_tracking('sfnt1', 'UA-32013-6', true);
      _add_tracking('sfnt2', 'UA-36130941-1', true);
    

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' === document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </head>

  <body class="wiki-BuildDocumentation_0.2.1" id="forge">
    
      <!-- ew:body_top_js -->

    
      
<!-- /ew:body_top_js -->

    
    
<header id="site-header">
    <div class="wrapper">
        <a href="/" class="logo">
            <span>SourceForge</span>
        </a>
        
        <form method="get" action="/directory/">
            <input type="text" id="words" name="q" placeholder="Search">
        </form>
        
        <!--Switch to {language}-->
        <nav id="nav-site">
            <a href="/directory/" title="Browse our software.">Browse</a>
            <a href="/directory/enterprise" title="Browse our Enterprise software.">Enterprise</a>
            <a href="/blog/" title="Read the latest news from the SF HQ.">Blog</a>
            <a href="/support" title="Contact us for help and feedback.">Help</a>
            <a href="/jobs?source=header" title="Search 80k+ tech jobs." class="featured-link">Jobs</a>
        </nav>
        <nav id="nav-account">
            
              <div class="logged_out">
                <a href="/account/login.php">Log In</a>
                <span>or</span>
                <a href="https://sourceforge.net/user/registration/">Join</a>
              </div>
            
        </nav>
        
    </div>
</header>
<header id="site-sec-header">
    <div class="wrapper">
        <nav id="nav-hubs">
            <h4>Solution Centers</h4>
            <a href="http://ibmsmartercommerce.sourceforge.net/">Smarter Commerce</a>
            <a href="http://goparallel.sourceforge.net/">Go Parallel</a>
            <a href="http://html5center.sourceforge.net/">HTML5</a>
            <a href="http://ibmsmarteritservices.sourceforge.net/">Smarter IT</a>
        </nav>
        <nav id="nav-collateral">
            <a href="http://library.geeknetmedia.com">Resources</a>
            
            <a href="">Newsletters</a>
            
        </nav>
    </div>
</header>
    
    <section id="page-body" class=" neighborhood-Projects project-whonix mountpoint-wiki">
	  <div class="grid-24" id="nav_menu_holder">
            
            


  
  <a href="/p/whonix/">
    
      <img src="/p/whonix//icon?2012-10-18 23:06:52+00:00" class="project_icon" alt="Project Logo">
    
	<h1 class="project_title">
      
        Whonix
      
	</h1>
	</a>

            
      </div>
      <div id="top_nav" class="">
        
        
  
    <a href="/p/whonix/homelink/" class="ui-icon-tool-link">
      Homepage
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/wiki/" class="ui-icon-tool-wiki">
      Documentation
      
        
          <span class="diamond"></span>
        
      
      
      
    </a>
	
    <a href="/p/whonix/blog/" class="ui-icon-tool-blog">
      Important Blog
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/featureblog/" class="ui-icon-tool-blog">
      Feature Blog
      
        
      
      
      
    </a>
	
    <a href="/projects/whonix/files/" class="ui-icon-tool-files">
      _
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/discussion/" class="ui-icon-tool-discussion">
      User Help Forum
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/mailman/" class="ui-icon-tool-mailman">
      Developer Mailing List
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/code/" class="ui-icon-tool-git">
      Source Code
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/donate/" class="ui-icon-tool-link">
      Donate
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/awiki/" class="ui-icon-tool-wiki">
      _
      
        
      
      
      
    </a>
	
	<div style="clear:both"></div>

        
      </div>
      <div id="content_base">
			  
          
        
			  
          
        
        <div class="grid-24 pad">
          <h2 class="dark title">BuildDocumentation_0.2.1
            <!-- actions -->
            <small>
            
  
    
    <a href="history" title="History"><b data-icon="N" class="ico ico-history" title="History"></b></a>
  
  
	<a href="feed" title="RSS"><b data-icon="f" class="ico ico-feed" title="Feed"></b></a>
  <a href="../search" title="Search"><b data-icon="s" class="ico ico-search" title="Search"></b></a>

            </small>
            <!-- /actions -->
          </h2>
		
  

          <div>
            
            
  
<div class="markdown_content"><p><a class="" href="https://sourceforge.net/p/whonix/wiki/Home/">Whonix Homepage</a></p>
<div class="toc">
<ul>
<li><a href="#build-anonymity">Build Anonymity</a></li>
<li><a href="#build-security">Build Security</a></li>
<li><a href="#host-preparation">Host preparation</a><ul>
<li><a href="#using-an-apt-cacher-to-speed-up-downloading">Using an apt cacher to speed up downloading</a></li>
</ul>
</li>
<li><a href="#source-code-intro">Source Code Intro</a></li>
<li><a href="#get-the-whonix-source-code">Get the Whonix source code</a></li>
<li><a href="#create-the-images">Create the Images</a><ul>
<li><a href="#preparations">Preparations</a></li>
<li><a href="#vm-creation">VM Creation</a></li>
</ul>
</li>
<li><a href="#how-to-use-the-ova-images">How to use the ova images</a></li>
<li><a href="#final-steps-only-required-for-redistribution">Final Steps (Only Required For Redistribution)</a></li>
<li><a href="#footer">Footer</a></li>
</ul>
</div>
<div class="codehilite"><pre><span class="c"># Version: Whonix 0.2.1</span>

<span class="c"># Copyright: adrelanos (aka proper)</span>
<span class="c">#</span>
<span class="c"># License: GPL v3 or any later</span>
<span class="c">#</span>
<span class="c"># Any changes you pull changes into this source will be also licensed</span>
<span class="c"># under GPL v3 or any later. Additionally you grant proper the right to</span>
<span class="c"># re-license your work under a different license. If that is not acceptable,</span>
<span class="c"># you can either fork this source under GPL v3 or any later or contact proper.</span>
<span class="c"># Contact proper, if you require this source code under different license.</span>
</pre></div>
<p>This page documents how the <a class="alink notfound" href="../Download%20binary%20distribution%20images">[Download binary distribution images]</a> are built. If you have any questions or need help let us know on <a class="alink notfound" href="../Dev%23Questions%20/Whonix/Dev%23Question">[Dev#Questions /Whonix/Dev#Question]</a>.</p>
<p>The scripts used to build a certain version of a Whonix-Gateway or Whonix-Workstation image can be found in the VM at /usr/share/doc/torbox (in TorBox 0.2 at /usr/local/bin/tor-*) and through the wiki history.</p>
<p>Following these instructions will build version Whonix 0.2.1 based on Tor 0.2.3 and Ubuntu Precise.</p>
<p>Knowledge assumed: Virtualization and networking basic principles; operation of your platform; Linux knowledge: how to install Ubuntu and basic command line knowledge.</p>
<p>Only one prerequisites: you need a working internet connection.</p>
<p>For discussion related to the development and build process of Whonix images go <a class="alink notfound" href="../Dev/%20Whonix/Dev/">[Dev/ Whonix/Dev/]</a>.</p>
<h1 id="build-anonymity">Build Anonymity</h1>
<p>While downloading the required tools for building Whonix your internet service provider could if he want notice that you want to build Whonix. This is esspecially interesting, if you want to redistribute Whonix, but still want to stay anonymous. The full story can be read in the chapter <a class="alink notfound" href="../SecurityAndHardening%23BuildAnonymity%20Build%20Anonymity">[SecurityAndHardening#BuildAnonymity Build Anonymity]</a>.</p>
<h1 id="build-security">Build Security</h1>
<ul>
<li>Build on a dedicated build system, install security updates...</li>
<li>All install media and all downloaded/used code must be verified (including all software on the host).</li>
<li>Hashes or fingerprints listed on the wiki are not to be trusted, same goes for the scripts, verify them (and make use of the history feature).</li>
<li>Read <a class="alink notfound" href="../Trust%20Whonix/Trust">[Trust Whonix/Trust]</a></li>
</ul>
<h1 id="host-preparation">Host preparation</h1>
<p>**Read and apply if necessary <a class="alink notfound" href="../Readme%23NetworkTimeSyncing%20%22Network%20Time%20Syncing%22">[Readme#NetworkTimeSyncing "Network Time Syncing"]</a>!</p>
<p>We recommend you use a dedicated OS installation just for hosting the Whonix VMs (See <a class="alink notfound" href="../SecurityAndHardening%20Whonix/SecurityAndHardening">[SecurityAndHardening Whonix/SecurityAndHardening]</a>)</p>
<p>You need to use Ubuntu. The build scripts could be adapted to run on other*NIX systems as well but currently they assume apt-get to be available. You need about 15 GB of free space.</p>
<p>Install the latest security updates, install VirtualBox (and qemu-kvm which is required to mount the Virtual Box .vdi images). Reboot to apply kernel updates.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">&amp;&amp;</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">dist</span><span class="o">-</span><span class="n">upgrade</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">virtualbox</span> <span class="n">qemu</span> <span class="n">genisoimage</span>
<span class="n">sudo</span> <span class="n">reboot</span>
</pre></div>
<p>If you are going to use Virtual Box inside Virtual Box, be sure to change your host key. Virtual Box -&gt; Preferences -&gt; Input -&gt; Host Key. The "outside" and the "inside" Host Key must differ, otherwise you can not leave the VM "inside" anymore. The "outside" Virtual Box hostkey may NOT be<strong>ctrl</strong>.^1^ <br />
,, ^1^ Because the one is used by VBoxSDL "inside".</p>
<p>Building on Windows is no longer supported. Redistributed Whonix builds should be build on Linux. If you want to port the Whonix build scripts to Windows, please contact us. Running Whonix on a Windows host with Virtual Box installed should still be possible.</p>
<h2 id="using-an-apt-cacher-to-speed-up-downloading">Using an apt cacher to speed up downloading</h2>
<p><strong>OPTIONAL</strong></p>
<p>Does only work with Whonix-Gateway.<br />
,, Does not work for Whonix-Workstation because it never gets direct access to the host by design. We could think about installing apt-cacher-ng on Whonix-Gateway, if there are any security implications.</p>
<p>Go to Whonix_Gateway script and comment in the line<strong>Acquire::http { Proxy "http://192.168.0.2:3142"; };</strong>, i.e. remove the # (hash) in front of it.</p>
<p>If you want to build multiple times (for debugging etc.), it might make sense to install a local apt proxy on your build machine. That safes download time and traffic. ,,Thanks to <a class="alink notfound" href="../https%3A//linuxexpresso.wordpress.com/2011/02/13/howto-apt-cacher-ng-on-ubuntu/%20source">[https://linuxexpresso.wordpress.com/2011/02/13/howto-apt-cacher-ng-on-ubuntu/ source]</a>.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">apt</span><span class="o">-</span><span class="n">cacher</span><span class="o">-</span><span class="n">ng</span>

<span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">apt</span><span class="p">.</span><span class="n">conf</span>

<span class="n">Acquire</span><span class="p">::</span><span class="n">http</span> <span class="p">{</span> <span class="n">Proxy</span> &quot;<span class="n">http</span><span class="p">:</span><span class="o">//</span>127<span class="p">.</span>0<span class="p">.</span>0<span class="p">.</span>1<span class="p">:</span>3142&quot;<span class="p">;</span> <span class="p">};</span>

<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
</pre></div>
<h1 id="source-code-intro">Source Code Intro</h1>
<p><strong>If you prefer to read and understand the source code just by reading scripts you may skip this optional chapter.</strong> This chapter is dedicated to give an introduction into the Whonix source code. It can be quite difficult to get started with hacking existing big complex projects.</p>
<p><strong>Whonix_Build</strong> is a script, which simply runs all other scripts. Actually it's "optional". It has very little functionality beside running all other scripts. You are free to run all scripts one by one. That is useful for learning and for debugging purposes. In case you want to fix a bug or in case you want to upgrade the distribution or in case you want to switch the operating system or whatever you are better off running the steps manually. You can use the Build script as a reference for which steps have to be run in which order.</p>
<p>Ironically currently most scripts are used to create a virtual machine image, which contains the operating system and the either the Whonix_Gateway or the Whonix_Workstation script. Scripts needed for creation the virtual machine image are Whonix_GetISO, Whonix_ModifyISO, Whonix_CreateVM and Whonix_Image. GetISO downloads and verifies the operating system iso image.</p>
<p>ModifyISO mounts the downloaded iso image as read only, copies it, modifies the copied iso image by adding preseeding (unattended installation), unmounts the iso and finally creates preseed.iso, which contains the operating system installer disc modified not to require any user interaction while installing. This process already sets up lots of important privacy settings and other stuff, such as UTC timezone, hostname ubuntu, US language, username user and so on. (See <a class="alink notfound" href="../SecurityAndHardening%20Whonix/SecurityAndHardening">[SecurityAndHardening Whonix/SecurityAndHardening]</a> and the ModifyISO script itself for a list of all changes and why.) Preseed.iso is configured to power off itself when it's done installing so the Whonix_Build script can continue.</p>
<p>Whonix_CreateVM creates VirtualBox machines with all settings required for secure networking, devices, security settings. Which those settings are in details can be again read in Security And Hardening or the script itself. CreateVM is also responsible for starting virtual machines while building. That happens two times, the first time the operating system will be installed and the second time either the Whonix_Gateway or the Whonix_Workstation script will be installed.</p>
<p>Whonix_Image allow to mount the virtual hdd images. This is required because we have to somehow get the Whonix_Gateway or the Whonix_Workstation script into the virtual hdds, so we can install them. With Whonix 0.1.3 we used ssh, but that was suboptimal. ^1^<strong>Image</strong> also allows to copy the Whonix_Gateway or the Whonix_Workstation script to /usr/local/bin/ inside the virtual hdd images. It also adds autostarting them only once as soon as the virtual machine gets started next time. This is done by adding the script to /etc/rc.local. rc.local will look if the installer log exists and if that is so, the script will not be run again. rc.local will also power off the VM if the Whonix_Gateway or Whonix_Workstation script finished. ^2^</p>
<p>,, ^1^ It required manually installing an ssh server just for getting the script into the virtual hdds. Ok, that could also be done with preseed. But it involves weakening the isolation of the VM from the host. The MAC address of the host could be seen my the VM. <br />
,, ^2^ /etc/rc.local will be reverted by the Whonix_Gateway or the Whonix_Workstation script.</p>
<p>Whonix_Gateway or the Whonix_Workstation will transform the installed operating system into the Whonix-Gateway or into the Whonix-Workstation. They update the system, install security relevant software, install useful applications for an anonymous general purpose operating system, set up all relevant privacy and anonymity required settings, desktop manager etc.</p>
<p>Thus, given the nature of the build step orientated scripts, you can easily work on the the different aspects of Whonix. For example, once you have created a clean virtual machine with the operating system only, you can make a clone or snapshot, run either the Whonix_Gateway or the Whonix_Workstation script as often as you need to test your changes and if something goes wrong, go back to the clone or snapshot. You don't have to build everything from scratch again. ^3^</p>
<p>,, ^3^ For example, we could add the Whonix_Gateway or Whonix_Workstation script to the preseed.iso and let it run after installing. If something would go wrong, you would have to reinstall the whole operating system every time again. That's why we use separate steps.</p>
<p>The<strong>torcheck</strong> script will only be copied into Whonix-Workstation and is supposed to be run in Whonix-Workstation only. Checks network connection, Tor Browser version, SocksPort and TransPort IP and stream isolation.</p>
<h1 id="get-the-whonix-source-code">Get the Whonix source code</h1>
<p>Get all our scripts (currently 8) and save them in one folder, it's best to create a new folder called Whonix_src in your home directory. It is important that they are all named correctly!</p>
<p>Check the source code for error or malicious edits. Make use of the history feature of torproject.org's wiki.</p>
<p>"Whonix_Build" script <br />
<a href="https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/Build" rel="nofollow">https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/Build</a></p>
<p>"Whonix_GetISO" script <br />
<a href="https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/GetISO" rel="nofollow">https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/GetISO</a></p>
<p>"Whonix_ModifyISO" script <br />
<a href="https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/ModifyISO" rel="nofollow">https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/ModifyISO</a></p>
<p>"Whonix_CreateVM" script <br />
<a href="https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/CreateVM" rel="nofollow">https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/CreateVM</a></p>
<p>"Whonix_Image" script <br />
<a href="https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/Image" rel="nofollow">https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/Image</a></p>
<p>"Whonix-Gateway" script <br />
<a href="https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/TGScript" rel="nofollow">https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/TGScript</a></p>
<p>"Whonix-Workstation" script <br />
<a href="https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/TWScript" rel="nofollow">https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/TWScript</a></p>
<p>"torcheck" script <br />
<a href="https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/torcheck" rel="nofollow">https://trac.torproject.org/projects/tor/wiki/doc/Whonix/Dev/torcheck</a></p>
<h1 id="create-the-images">Create the Images</h1>
<h2 id="preparations">Preparations</h2>
<p>Make the build script executable: </p>
<div class="codehilite"><pre><span class="n">chmod</span> <span class="o">+</span><span class="n">x</span> <span class="o">~/</span><span class="n">Whonix_source</span><span class="o">/</span><span class="n">Whonix_</span><span class="o">*</span>
</pre></div>
<p>Make sure there aren't any VMs in VirtualBox already called "Whonix-Gateway" or "Whonix-Workstation" (TODO: automate that)</p>
<h2 id="vm-creation">VM Creation</h2>
<p>,, -all not supported yet.</p>
<p>(1). Open a shell and type:</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">~/</span><span class="n">Whonix_source</span><span class="o">/</span><span class="n">Whonix_Build</span> <span class="o">-</span><span class="n">tg</span>
</pre></div>
<p>(2). Check if all went ok.</p>
<p>(3). Power on Whonix_Gateway</p>
<p>(4). Open a shell and type:</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">~/</span><span class="n">Whonix_source</span><span class="o">/</span><span class="n">Whonix_Build</span> <span class="o">-</span><span class="n">tw</span>
</pre></div>
<p>The scripts can fail for many reasons, please report back any issues!</p>
<h1 id="how-to-use-the-ova-images">How to use the ova images</h1>
<p>Reboot both VMs. Please read the <a class="alink notfound" href="../Readme%20Readme">[Readme Readme]</a>!</p>
<h1 id="final-steps-only-required-for-redistribution">Final Steps (Only Required For Redistribution)</h1>
<ul>
<li><a class="alink notfound" href="../LeakTests%20Leak%20Testing">[LeakTests Leak Testing]</a>!</li>
<li><a class="alink notfound" href="../TestAndTroubleshoot%20Test">[TestAndTroubleshoot Test]</a> the images before release! TODO: Needs big revision with all Whonix features.</li>
<li>Update the <a class="alink notfound" href="../Changelog%20Changelog">[Changelog Changelog]</a>.</li>
<li>
<p>Create hash sums for verification.</p>
<p>sha512sum Whonix-Gateway.ova<br />
sha512sum Whonix-Workstation.ova</p>
</li>
<li>
<p>Upload the images.</p>
</li>
<li>Post hash sums to build documentation.</li>
<li>Post download links to build documentation.</li>
<li>At least a few testers should test before posting a news. Testers may be found by posting a news.</li>
<li>Finally announce: Post a news.</li>
</ul>
<h1 id="footer">Footer</h1>
<div>
<div class="markdown_content"><p>This is a wiki. Want to improve this page? Contact us!</p>
<p><font size="-3">Unless otherwise noted above, content of this particular page is copyrighted by <a class="" href="mailto:adrelanos%20at%20riseup%20dot%20net">adrelanos</a> and licensed under the same Free (as in speech) license as Whonix itself.</font></p></div>
</div>
</div>

  <div id="create_wiki_page_holder" title="Create New Page" style="display:none">
    <form>
        <label class="grid-2">Name</label>
        <div class="grid-7"><input type="text" name="name"/></div>
    </form>
  </div>

          </div>
			
          
  <hr class="grid-19" style="margin-top: 1em; margin-bottom: 2em; clear:both;">
  
  
  

        </div>
      </div>
    </section>
      
<footer id="site-footer">
    <div class="wrapper">
        <nav>
            <h5>SourceForge</h5>
            <a href="/about">About</a>
            <a href="/blog/category/sitestatus/">Site Status</a>
            <a href="http://twitter.com/sfnet_ops">@sfnet_ops</a>
        </nav>
        <nav>
            <h5>Find and Develop Software</h5>
            <a href="/create/">Create a Project</a>
            <a href="/directory/">Software Directory</a>
            <a href="/top">Top Downloaded Projects</a>
        </nav>
        <nav>
            <h5>Community</h5>
            <a href="/blog/">Blog</a>
            <a href="http://twitter.com/sourceforge">@sourceforge</a>
            <a href="/jobs?source=footer">Job Board</a>
        </nav>
        <nav>
            <h5>Help</h5>
            <a href="http://p.sf.net/sourceforge/docs">Site Documentation</a>
            <a href="/support">Support Request</a>
            <a href="http://p.sf.net/sourceforge/irc">Real-Time Support</a>
        </nav>
    </div>
</footer>
<footer id="site-copyright-footer">
    <div class="wrapper">
        <div id="copyright">
            Copyright &copy; 2013 SourceForge. All Rights Reserved.<br />
            SourceForge is a <a href="http://www.diceholdingsinc.com/phoenix.zhtml?c=211152&amp;p=irol-landing">Dice Holdings, Inc.</a> company.
        </div>
        <nav>
            <a href="http://slashdotmedia.com/terms-of-use">Terms</a>
            <a href="http://slashdotmedia.com/privacy-statement/">Privacy</a>
            <a href="http://slashdotmedia.com/opt-out-choices">Cookies/Opt Out</a>
            <a href="http://slashdotmedia.com">Advertise</a>
            <a href="http://sourceforge.jp/">SourceForge.JP</a>
        </nav>
    </div>
</footer>
    <div id="messages">
        
    </div>
    
      <!-- ew:body_js -->

    
      <script type="text/javascript" src="http://a.fsdn.com/allura/nf/1364319766/_ew_/_slim/js?href=allura%2Fjs%2Fjquery-base.js%3Ballura%2Fjs%2Fjquery.notify.js%3Ballura%2Fjs%2Fsylvester.js%3Ballura%2Fjs%2Fpb.transformie.min.js%3Ballura%2Fjs%2Fallura-base.js%3Bjs%2Fjquery.lightbox_me.js%3Bjs%2Fjquery.autosize-min.js%3Bjs%2Fjquery.textarea.js%3Bjs%2Fsf_markitup.js%3Bjs%2Fjquery.tagsinput.js"></script>
    
      
<!-- /ew:body_js -->

    
    
      <!-- ew:body_js_tail -->

    
      <script type="text/javascript">$(function () {
            var $lightbox = $('#lightbox_create_wiki_page');
            var $trigger = $('#sidebar a.add_wiki_page');
            $trigger.bind('click', function(e) {
                $lightbox.lightbox_me();
                return false;
            });
            $($lightbox).delegate('.close', 'click', function(e) {
                $lightbox.trigger('close');
                return false;
            });
        });
$(function () {
            $('#lightbox_create_wiki_page form').submit(function(){
                location.href = $('#sidebar a.add_wiki_page').attr('href') +
                    encodeURIComponent($('input[name=name]', $(this)).val().replace('/', '-')) + '/edit';
                return false;
            });
        });
$(function () {
            $('textarea.auto_resize').focus(function(){$(this).autosize();});
        });
$(document).ready(function () {
            $("a.attachment_form_add_button").click(function(evt){
                $(this).hide();
                $(".attachment_form_fields", this.parentNode).show();
                evt.preventDefault();
            });
            $("a.cancel_edit_post").click(function(evt){
                $("textarea", this.parentNode).val($("input.original_value", this.parentNode).val());
                $(".attachment_form_fields input", this.parentNode).val('');
                evt.preventDefault();
            });
         });

        (function () {
            $('div.discussion-post').each(function () {
                var post = this;
                $('.submit', post).button();
                $('.flag_post', post).click(function (ele) {
                    this.parentNode.submit();
                    return false;
                });
                $('.moderate_post', post).click(function(e){
                    e.preventDefault();
                    var mod = $(this).text();
                    var id_post = $(post).attr('id');
                    $.ajax({
                        type: 'POST',
                        url: this.parentNode.action,
                        data: jQuery(this.parentNode).serialize(),
                        success: function() {
                            if (mod == 'Delete'){
                                $(post).remove();
                            }
                            else if (mod == 'Approve'){
                                $('a.reply_post, a.shortlink, form.moderate_spam, form.moderate_approve', post).toggle();
                                $('div.moderate', post).removeClass('moderate');
                            }
                            else if (mod == 'Spam'){
                                $(post).remove();
                            }
                        }
                    });
                });

                if($('a.edit_post', post)){
                    $('a.edit_post', post).click(function (ele) {
                        $('.display_post', post).hide();
                        $('.edit_post_form', post).show();
                        $('.edit_post_form textarea', post).focus();
                        return false;
                    });
                    $("a.cancel_edit_post", post).click(function(evt){
                        $('.display_post', post).show();
                        $('.edit_post_form', post).hide();
                    });
                }
                if($('.reply_post', post)){
                    $('.reply_post', post).click(function (ele) {
                        $('.reply_post_form', post).show();
                        $('.reply_post_form textarea', post).focus();
                        return false;
                    });
                    $('.reply_post', post).button();
                }
                if($('.add_attachment', post)){
                    $('.add_attachment', post).click(function (ele) {
                        $('.add_attachment_form', post).show();
                        return false;
                    });
                }
                if($('.promote_to_thread', post)){
                    $('.promote_to_thread', post).click(function (ele) {
                        $('.promote_to_thread_form', post).show();
                        return false;
                    });
                }
                if($('.shortlink', post)){
                    var popup = $('.shortlink_popup', post);
                    $('.shortlink', post).click(function(evt){
                        evt.preventDefault();
                        popup.lightbox_me({
                            onLoad: function() {
                                $('input', popup).select();
                            }
                        });
                    });
                    $('.close', popup).bind('click', function() {
                        popup.hide();
                    });
                }
            });
        }());
        
$(function () {
            $('select.results_per_page').change(function () {
                this.form.submit();});});
$(function () {
          $('input.label_edit').tagsInput({
              'height':'100%',
              'width':'100%'
          });
        });

        $(document).ready(function () {
            var thread_tag = $('a.thread_tag');
            var thread_spam = $('a.sidebar_thread_spam');
            var tag_thread_holder = $('#tag_thread_holder');
            var allow_moderate = $('#allow_moderate');
            var mod_thread_link = $('#mod_thread_link');
            var mod_thread_form = $('#mod_thread_form');
            if (mod_thread_link.length) {
                if (mod_thread_form.length) {
                    mod_thread_link.click(function (e) {
                        mod_thread_form.show();
                        return false;
                    });
                }
            }
            if (thread_tag.length) {
                if (tag_thread_holder.length) {
                    var submit_button = $('input[type="submit"]', tag_thread_holder);
                    var cancel_button = $('<a href="#" class="btn link">Cancel</a>').click(function(evt){
                        evt.preventDefault();
                        tag_thread_holder.hide();
                        thread_tag.removeClass('active');
                    });
                    submit_button.after(cancel_button);
                    thread_tag.click(function (e) {
                        tag_thread_holder.show();
                        thread_tag.addClass('active');
                        // focus the submit to scroll to the form, then focus the subject for them to start typing
                        submit_button.focus();
                        $('input[type="text"]', tag_thread_holder).focus();
                        return false;
                    });
                }
            }
            if (thread_spam.length) {
                if (allow_moderate.length) {
                    var cval = $.cookie('_session_id');
                    thread_spam[0].style.display='block';
                }
            }
        });
        </script>
    
      
<!-- /ew:body_js_tail -->

    
    
  <div id="lightbox_create_wiki_page" class="modal" style="display:none">
  <b data-icon="D" class="ico ico-close close"></b>
  
    <h1>Add a Wiki Page</h1>
    <form class="grid-10">
        <label class="grid-2">Name</label>
        <div class="grid-7"><input type="text" name="name"></div>
        <label class="grid-2">&nbsp;</label>
        <div class="grid-7"><input type="submit" value="Create page"></div>
    </form>
  
</div>
<script type="text/javascript">
  /*<![CDATA[*/
  $('.post-link')
    .click(function(evt) {
        var cval = $.cookie('_session_id');
        evt.preventDefault();
        $.post(this.href, {_session_id:cval}, function(val)
            { window.location = val.location; },
            'json');
      });
  /*]]>*/
</script>
  

    
      
    
    
   
    
  </body>
</html>