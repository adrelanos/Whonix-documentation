<!DOCTYPE html>
<!-- Server: sfn-web-10 -->


  










<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]>--> <html lang="en" class="no-js"> <!--<![endif]-->
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
    <title>Whonix / Documentation / File Transfer</title>
    

<script src="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/js/sftheme/modernizr.custom.90514.js"></script>

<script src="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/js/sftheme/jquery-1.8.0.min.js"></script>

<script src="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/js/sftheme/header.js"></script>
<!--[if lt IE 7 ]>
  <script src="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/js/sftheme/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg'); //fix any <img> or .png_bg background-images </script>
<![endif]-->
<link href='//fonts.googleapis.com/css?family=Ubuntu:regular' rel='stylesheet' type='text/css'>
<style type="text/css">
    @font-face {
        font-family: "Pictos";
        src: url('http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.eot');
        src: local("â˜º"), url('http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.woff') format('woff'), url('http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.ttf') format('truetype'), url('http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.svg') format('svg');
    }
</style>
    <script type="text/javascript">
            /*jslint onevar: false, nomen: false, evil: true, css: true, plusplus: false, white: false, forin: true, on: true, immed: false */
            /*global confirm, alert, unescape, window, jQuery, $, net, COMSCORE */
    </script>
    
      <!-- ew:head_css -->

    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1364319766/_ew_/allura/css/forge/hilite.css"
                >
    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1364319766/_ew_/tool/wiki/css/wiki.css"
                >
    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1364319766/_ew_/theme/sftheme/css/forge.css"
                >
    
      <link rel="stylesheet"
                type="text/css"
                href="http://a.fsdn.com/allura/nf/1364319766/_ew_/_slim/css?href=css%2Fmarkitup_sf.css%3Bcss%2Fpage_list.css%3Bcss%2Fjquery.tagsinput.css"
                >
    
      
<!-- /ew:head_css -->

    
    
    
      <!-- ew:head_js -->

    
      
<!-- /ew:head_js -->

    
    

    
      <style type="text/css">
        #page-body.project---init-- #top_nav { display: none; }
#page-body.project---init-- #nav_menu_holder { display: none; margin-bottom: 0; }
#page-body.project---init-- #content_base {margin-top: 0; }
      </style>
    
    
<style>
  .hidden { display: none }
  a.notfound { color: #f00; }
</style>

      <style>.XKKgQtVagkIbpyVExYapUXvA { display:none }</style>

    
<link rel="alternate" type="application/rss+xml" title="Page RSS" href="feed.rss"/>
<link rel="alternate" type="application/atom+xml" title="Page Atom" href="feed.atom"/>
<link rel="alternate" type="application/rss+xml" title="Wiki RSS" href="../feed.rss"/>
<link rel="alternate" type="application/atom+xml" title="Wiki Atom" href="../feed.atom"/>

    
    


<script type="text/javascript">
    var _gaq = _gaq || [];

    function _add_tracking(prefix, tracking_id, send_user) {
        _gaq.push([prefix+'._setAccount', tracking_id]);
        _gaq.push([prefix+'._setCustomVar', 1, 'Page Type', 'wiki', 3]);_gaq.push([prefix+'._trackPageview']);
    }
      _add_tracking('sfnt1', 'UA-32013-6', true);
      _add_tracking('sfnt2', 'UA-36130941-1', true);
    

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' === document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </head>

  <body class="wiki-File_Transfer" id="forge">
    
      <!-- ew:body_top_js -->

    
      
<!-- /ew:body_top_js -->

    
    
<header id="site-header">
    <div class="wrapper">
        <a href="/" class="logo">
            <span>SourceForge</span>
        </a>
        
        <form method="get" action="/directory/">
            <input type="text" id="words" name="q" placeholder="Search">
        </form>
        
        <!--Switch to {language}-->
        <nav id="nav-site">
            <a href="/directory/" title="Browse our software.">Browse</a>
            <a href="/directory/enterprise" title="Browse our Enterprise software.">Enterprise</a>
            <a href="/blog/" title="Read the latest news from the SF HQ.">Blog</a>
            <a href="/support" title="Contact us for help and feedback.">Help</a>
            <a href="/jobs?source=header" title="Search 80k+ tech jobs." class="featured-link">Jobs</a>
        </nav>
        <nav id="nav-account">
            
              <div class="logged_out">
                <a href="/account/login.php">Log In</a>
                <span>or</span>
                <a href="https://sourceforge.net/user/registration/">Join</a>
              </div>
            
        </nav>
        
    </div>
</header>
<header id="site-sec-header">
    <div class="wrapper">
        <nav id="nav-hubs">
            <h4>Solution Centers</h4>
            <a href="http://ibmsmartercommerce.sourceforge.net/">Smarter Commerce</a>
            <a href="http://goparallel.sourceforge.net/">Go Parallel</a>
            <a href="http://html5center.sourceforge.net/">HTML5</a>
            <a href="http://ibmsmarteritservices.sourceforge.net/">Smarter IT</a>
        </nav>
        <nav id="nav-collateral">
            <a href="http://library.geeknetmedia.com">Resources</a>
            
            <a href="">Newsletters</a>
            
        </nav>
    </div>
</header>
    
    <section id="page-body" class=" neighborhood-Projects project-whonix mountpoint-wiki">
	  <div class="grid-24" id="nav_menu_holder">
            
            


  
  <a href="/p/whonix/">
    
      <img src="/p/whonix//icon?2012-10-18 23:06:52+00:00" class="project_icon" alt="Project Logo">
    
	<h1 class="project_title">
      
        Whonix
      
	</h1>
	</a>

            
      </div>
      <div id="top_nav" class="">
        
        
  
    <a href="/p/whonix/homelink/" class="ui-icon-tool-link">
      Homepage
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/wiki/" class="ui-icon-tool-wiki">
      Documentation
      
        
          <span class="diamond"></span>
        
      
      
      
    </a>
	
    <a href="/p/whonix/blog/" class="ui-icon-tool-blog">
      Important Blog
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/featureblog/" class="ui-icon-tool-blog">
      Feature Blog
      
        
      
      
      
    </a>
	
    <a href="/projects/whonix/files/" class="ui-icon-tool-files">
      _
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/discussion/" class="ui-icon-tool-discussion">
      User Help Forum
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/mailman/" class="ui-icon-tool-mailman">
      Developer Mailing List
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/code/" class="ui-icon-tool-git">
      Source Code
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/donate/" class="ui-icon-tool-link">
      Donate
      
        
      
      
      
    </a>
	
    <a href="/p/whonix/awiki/" class="ui-icon-tool-wiki">
      _
      
        
      
      
      
    </a>
	
	<div style="clear:both"></div>

        
      </div>
      <div id="content_base">
			  
          
        
			  
          
        
        <div class="grid-24 pad">
          <h2 class="dark title">File Transfer
            <!-- actions -->
            <small>
            
  
    
    <a href="history" title="History"><b data-icon="N" class="ico ico-history" title="History"></b></a>
  
  
	<a href="feed" title="RSS"><b data-icon="f" class="ico ico-feed" title="Feed"></b></a>
  <a href="../search" title="Search"><b data-icon="s" class="ico ico-search" title="Search"></b></a>

            </small>
            <!-- /actions -->
          </h2>
		
  

          <div>
            
            
  
<div class="markdown_content"><div>
<div class="markdown_content"><p><a class="" href="https://sourceforge.net/p/whonix/wiki/Home/#whonix-homepage">Whonix Homepage</a> | <img alt="" src="http://whonix.sourceforge.net/screenshots/BC_Rnd_32px.png" /> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Contribute/#donate">Donate</a></p>
<p><a class="" href="https://sourceforge.net/p/whonix/wiki/Download/#stay-tuned">News</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Screenshots/">Screenshots</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Videos/">Videos</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Download/">Download</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Documentation/">Documentation</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/About/">About</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Features/">Features</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Security%20Guide/">Security Guide</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/FAQ/">FAQ</a> | <a class="" href="https://sourceforge.net/p/whonix/discussion/">Forum</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Contact/">Contact</a></p>
<p><a class="" href="https://sourceforge.net/p/whonix/wiki/Bridges/">Bridges Support</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Features/#vpn-tunnel-support">VPN/Tunnel Support</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/HostingLocationHiddenServers/">Location/IP Hidden Servers</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/OtherOperatingSystems/">Windows Support</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/BrowserPlugins/">Flash Support</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Contribute/">You Can Help</a></p>
<p><a class="" href="https://sourceforge.net/p/whonix/wiki/Contribute/">Contribiute</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Design/">Tech. Design</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Dev_SourceCode/">Source Code / Hacking / Development Tickets</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Changelog/">Changelog</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Authorship/">Authorship</a> | <a class="" href="https://sourceforge.net/p/whonix/wiki/Authorship/#disclaimer">Disclaimer</a></p>
<p><font size="-3">This is a wiki. Want to improve this page? Contact us!</font></p></div>
</div>
<div class="toc">
<ul>
<li><a href="#security-overview">Security Overview</a></li>
<li><a href="#transfer-files-from-the-host-into-whonix-gateway-or-whonix-workstation-through-iso-images">Transfer files from the Host into Whonix-Gateway or Whonix-Workstation through ISO images</a></li>
<li><a href="#adding-usb-device-to-virtual-box">Adding USB device to Virtual Box</a></li>
<li><a href="#shared-folder">Shared Folder</a></li>
<li><a href="#ssh-into-whonix-gateway">SSH into Whonix-Gateway</a></li>
<li><a href="#ssh-into-whonix-workstation">SSH into Whonix-Workstation</a></li>
<li><a href="#mount-and-inspect-images">Mount and inspect images</a><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#vdi">VDI</a><ul>
<li><a href="#mount-whonix-gateway-vdi-images">Mount Whonix-Gateway vdi images.</a></li>
<li><a href="#mount-whonix-workstation-vdi-images">Mount Whonix-Workstation vdi images.</a></li>
</ul>
</li>
<li><a href="#img">IMG</a><ul>
<li><a href="#mount-whonix-gateway-img-images">Mount Whonix-Gateway img images.</a></li>
<li><a href="#mount-whonix-workstation-img-images">Mount Whonix-Workstation img images.</a></li>
</ul>
</li>
<li><a href="#vmdk">VMDK</a></li>
<li><a href="#related">Related</a></li>
</ul>
</li>
<li><a href="#footer">Footer</a></li>
</ul>
</div>
<h1 id="security-overview">Security Overview</h1>
<p>All methods:</p>
<ul>
<li>Risk of transferring <a class="alink" href="/p/whonix/wiki/Metadata/">[Metadata]</a> or other sensitive information into Whonix-Workstation.</li>
<li>Whonix is about isolation. If you import data from the host or other media into Whonix-Workstation you weaken isolation and must be very careful.</li>
</ul>
<p>Shared Folder:</p>
<ul>
<li>Using filesharing built into Virtual Box (Shared Folder) isn't very secure.</li>
<li>It requires installing <a class="" href="https://sourceforge.net/p/whonix/wiki/VirtualBox%20Guest%20Additions/">Virtual Box Guest Additions</a> and therefore weakens security.</li>
</ul>
<p>SSH:</p>
<ul>
<li>Works with ssh, scp, sshfs. Instructions below.</li>
</ul>
<p>ISO Images, Host -&gt; Whonix-Gateway/Workstation:</p>
<ul>
<li>Safest method of getting files into Whonix-Workstation.</li>
</ul>
<p>USB devices plugged into Virtual Box:</p>
<ul>
<li>Hardware serials of the USB controller and/or USB device could leak into Whonix-Workstation.</li>
<li>Requires closed source Virtual Box extensions.</li>
</ul>
<p>Mounting Virtual Machine images:</p>
<ul>
<li>No idea if and if yes, what could leak into the Virtual Machine image.</li>
<li>See also <a class="" href="https://sourceforge.net/p/whonix/wiki/Build%20Anonymity/">Build Anonymity</a>.</li>
</ul>
<h1 id="transfer-files-from-the-host-into-whonix-gateway-or-whonix-workstation-through-iso-images">Transfer files from the Host into Whonix-Gateway or Whonix-Workstation through ISO images</h1>
<p>On the host install genisoimage: </p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">genisoimage</span>
</pre></div>
<p>To create an iso "files.iso" containing the content of "folder": </p>
<div class="codehilite"><pre><span class="n">mkisofs</span> <span class="o">-</span><span class="n">o</span> <span class="n">files</span><span class="p">.</span><span class="n">iso</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">folder</span>
</pre></div>
<p>Now attach the iso to the VM. Mount it with </p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">mount</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sr0</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">cdrom</span>
</pre></div>
<p>This is intentionally one-way as the Whonix-Workstation is inherently untrusted and should remain isolated to prevent side-channel attacks and covert channel leaks.</p>
<h1 id="adding-usb-device-to-virtual-box">Adding USB device to Virtual Box</h1>
<p>This is recommend against for security reasons.</p>
<p>Does <strong>not</strong> require Virtual Box Guest Additions.</p>
<p>Please read the chapter <a class="" href="https://sourceforge.net/p/whonix/wiki/About/#whonix-is-based-on-debian-virtualbox-and-tor">Whonix is based on Debian, VirtualBox and Tor</a>.</p>
<p>Means, you can change your search terms from "How to get USB in Whonix-Workstation?" to "How to get USB in Virtual Box?".</p>
<p>Anyway, Virtual Box does not support USB out of the box. There are closed source additional extensions for usb support. You can download them from the <a class="" href="https://www.virtualbox.org/wiki/Downloads" rel="nofollow">Virtual Box download page</a>.</p>
<p>Install them on the host.</p>
<p>I don't know if reboot is required. Then you can plug USB devices into Virtual Machines through the device menu in Virtual Box.</p>
<p>Note, that automount of USB devices is disabled in Whonix by default. Try, Start menu -&gt; System Settings -&gt; Removable Media or manually mount. <a class="" href="https://sourceforge.net/p/whonix/discussion/general/thread/3b4b67c2/">Please share your results.</a></p>
<h1 id="shared-folder">Shared Folder</h1>
<p>See <a class="" href="https://sourceforge.net/p/whonix/wiki/VirtualBox%20Guest%20Additions/">Virtual Box Guest Additions</a> chapter.</p>
<h1 id="ssh-into-whonix-gateway">SSH into Whonix-Gateway</h1>
<p><strong>Developers / experts only! Only for debugging!</strong></p>
<p>On Whonix-Gateway: Open /usr/local/bin/whonix_firewall</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">whonix_firewall</span>
</pre></div>
<p>Set GATEWAY_ALLOW_INCOMMING_SSH to 1.</p>
<div class="codehilite"><pre><span class="n">GATEWAY_ALLOW_INCOMMING_SSH</span><span class="p">=</span>1
</pre></div>
<p>Restart firewall.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">whonix_firewall</span>
</pre></div>
<p>Inside Whonix-Gateway: </p>
<div class="codehilite"><pre><span class="c">## Run once.</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="k">get</span> <span class="n">install</span> <span class="n">openssh</span><span class="o">-</span><span class="n">server</span>
</pre></div>
<p>On the host: <br />
Add port forwarding from host into Virtual Machine.</p>
<div class="codehilite"><pre><span class="c">## Open a terminal.</span>
<span class="c">## Run once.</span>
<span class="c">## This forwards connection from the host to 127.0.0.1:2200 to</span>
<span class="c">## the SSH server running inside Whonix-Gateway on port 22.</span>
<span class="n">VBoxManage</span> <span class="n">modifyvm</span> <span class="s">&quot;Whonix-Gateway&quot;</span> <span class="o">--</span><span class="n">natpf1</span> <span class="s">&quot;ssh&quot;</span><span class="p">,</span><span class="n">tcp</span><span class="p">,</span>127<span class="p">.</span>0<span class="p">.</span>0<span class="p">.</span>1<span class="p">,</span>2200<span class="p">,,</span>22

<span class="c">## If you ever want to undo this...</span>
<span class="c">#VBoxManage modifyvm &quot;Whonix-Gateway&quot; --natpf1 delete &quot;ssh&quot;</span>
</pre></div>
<p>On the host: <br />
Open a ssh session.</p>
<div class="codehilite"><pre><span class="c">## as user</span>
<span class="n">ssh</span> <span class="n">user</span><span class="p">@</span>127<span class="p">.</span>0<span class="p">.</span>0<span class="p">.</span>1 <span class="o">-</span><span class="n">p</span> 2200
<span class="c">## or as root</span>
<span class="n">ssh</span> <span class="n">root</span><span class="p">@</span>127<span class="p">.</span>0<span class="p">.</span>0<span class="p">.</span>1 <span class="o">-</span><span class="n">p</span> 2200
</pre></div>
<p>On the host: <br />
Or mount Whonix-Gateway as a folder.</p>
<div class="codehilite"><pre><span class="c">## as user</span>
<span class="n">sshfs</span> <span class="n">user</span><span class="p">@</span>127<span class="p">.</span>0<span class="p">.</span>0<span class="p">.</span>1<span class="p">:</span><span class="o">/</span> <span class="o">-</span><span class="n">p</span> 2200 <span class="o">/</span><span class="nb">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Gateway_sshfs</span>
<span class="c">## or as root</span>
<span class="n">sshfs</span> <span class="n">root</span><span class="p">@</span>127<span class="p">.</span>0<span class="p">.</span>0<span class="p">.</span>1<span class="p">:</span><span class="o">/</span> <span class="o">-</span><span class="n">p</span> 2200 <span class="o">/</span><span class="nb">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Gateway_sshfs</span>
</pre></div>
<h1 id="ssh-into-whonix-workstation">SSH into Whonix-Workstation</h1>
<p><strong>Developers / experts only! Only for debugging!</strong></p>
<p>You can not directly SSH into Whonix-Workstation, because Whonix-Workstation has only an internal network interface and no NAT interface. Adding one would defeat the purpose of Whonix. (See <a class="alink" href="/p/whonix/wiki/Security%20Guide/">[Security Guide]</a> for details why.)</p>
<p>Required: You mastered the steps "SSH into Whonix-Gateway" above.</p>
<p>Connection will look like this: host -&gt; ssh -&gt; Whonix-Gateway -&gt; ssh -&gt; Whonix-Workstation.</p>
<p>On Whonix-Workstation:</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">openssh</span><span class="o">-</span><span class="n">server</span>
</pre></div>
<p>On the Whonix-Gateway:</p>
<div class="codehilite"><pre><span class="c">## or user@</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ssh</span> <span class="n">root</span><span class="p">@</span>192<span class="p">.</span>168<span class="p">.</span>0<span class="p">.</span>11
</pre></div>
<p>Then SSH from the host into Whonix-Gateway (host -&gt; Whonix-Gateway). From there, SSH into Whonix-Workstation (Whonix-Gateway -&gt; Whonix-Workstation). You can also do that with one command (called SSH hopping).</p>
<div class="codehilite"><pre><span class="c">## or root@</span>
<span class="n">ssh</span> <span class="o">-</span><span class="n">t</span> <span class="n">user</span><span class="p">@</span>127<span class="p">.</span>0<span class="p">.</span>0<span class="p">.</span>1 <span class="o">-</span><span class="n">p</span> 2200 <span class="s">&quot;ssh user@192.168.0.11&quot;</span>
</pre></div>
<p>You can also mount the filesystem of Whonix-Workstation with two commands. SSH hopping is also possible for sshfs (a website <a class="" href="http://www.larkinweb.co.uk/computing/mounting_file_systems_over_two_ssh_hops.html" rel="nofollow">told</a> (<a class="" href="http://www.webcitation.org/6FDYtApEP" rel="nofollow">w</a>) me).</p>
<div class="codehilite"><pre><span class="c">## or root@</span>

<span class="c">## SSH into Whonix-Workstation and map to localhost:2222.</span>
<span class="n">ssh</span> <span class="o">-</span><span class="n">f</span> <span class="n">user</span><span class="p">@</span>127<span class="p">.</span>0<span class="p">.</span>0<span class="p">.</span>1 <span class="o">-</span><span class="n">p</span> 2200 <span class="o">-</span><span class="n">L</span> 2222<span class="p">:</span>192<span class="p">.</span>168<span class="p">.</span>0<span class="p">.</span>11<span class="p">:</span>22 <span class="o">-</span><span class="n">N</span>

<span class="c">## Mount Whonix-Workstation folder on the host.</span>
<span class="n">sshfs</span> <span class="o">-</span><span class="n">p</span> 2222 <span class="n">user</span><span class="p">@</span><span class="n">localhost</span><span class="p">:</span><span class="o">/</span><span class="n">remote</span><span class="o">/</span><span class="nb">path</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">localpath</span>
</pre></div>
<h1 id="mount-and-inspect-images">Mount and inspect images</h1>
<h2 id="introduction">Introduction</h2>
<p><strong>Developers / experts only! Only for debugging!</strong></p>
<p>Required knowledge:</p>
<ul>
<li>You don't have to use this method. Standard <em>vdi</em> (or <em>img</em>) images are used. Feel free to mount them using any other way you like.</li>
<li>Mount and inspect images has been researched for only for Linux hosts. Not saying it's impossible on Windows, but it's not documented.</li>
<li>You must understand <a class="alink" href="/p/whonix/wiki/Dev_SourceCodeIntro/">[Dev_SourceCodeIntro]</a> / Overview, i.e. understand for what <em>img</em> and for what <em>vdi</em> images are used.</li>
<li>You need some dependencies, see chapter <a class="" href="https://sourceforge.net/p/whonix/wiki/BuildDocumentation_0.4.0/#building-on-linux">Building on Linux</a>.</li>
<li>You need the Whonix source code, see chapter <a class="" href="https://sourceforge.net/p/whonix/wiki/BuildDocumentation_0.4.0/#get-the-whonix-source-code">Get the Whonix source code</a>.</li>
<li><a class="" href="https://sourceforge.net/p/whonix/wiki/BuildDocumentation_0.4.0/#verify-the-whonix-source-code-with-gpg">Verify the Whonix source code with gpg</a> is not required, but recommend.</li>
</ul>
<h2 id="vdi">VDI</h2>
<h3 id="mount-whonix-gateway-vdi-images">Mount Whonix-Gateway <em>vdi</em> images.</h3>
<p>Using the git stable branch.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">./</span><span class="n">whonix_createvm</span> <span class="o">-</span><span class="n">tg</span><span class="o">-</span><span class="n">mountvdi</span>

<span class="n">cd</span> &quot;<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Gateway_image</span>&quot;
## <span class="n">inspect</span>
<span class="n">cd</span> <span class="o">~</span>

<span class="n">sudo</span> <span class="o">./</span><span class="n">whonix_createvm</span> <span class="o">-</span><span class="n">tg</span><span class="o">-</span><span class="n">unmountvdi</span>
</pre></div>
<p>Using the development stable branch.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">./</span><span class="n">help</span><span class="o">-</span><span class="n">steps</span><span class="o">/</span><span class="n">mount</span><span class="o">-</span><span class="n">vdi</span> <span class="o">-</span><span class="n">tg</span>

<span class="n">cd</span> &quot;<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Gateway_image</span>&quot;
## <span class="n">inspect</span>
<span class="n">cd</span> <span class="o">~</span>

<span class="n">sudo</span> <span class="o">./</span><span class="n">help</span><span class="o">-</span><span class="n">steps</span><span class="o">/</span><span class="n">unmount</span><span class="o">-</span><span class="n">vdi</span> <span class="o">-</span><span class="n">tg</span>
</pre></div>
<h3 id="mount-whonix-workstation-vdi-images">Mount Whonix-Workstation <em>vdi</em> images.</h3>
<p>Using the git stable branch.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">./</span><span class="n">whonix_createvm</span> <span class="o">-</span><span class="n">tw</span><span class="o">-</span><span class="n">mountvdi</span>

<span class="n">cd</span> &quot;<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Workstation_image</span>&quot;
## <span class="n">inspect</span>
<span class="n">cd</span> <span class="o">~</span>

<span class="n">sudo</span> <span class="o">./</span><span class="n">whonix_createvm</span> <span class="o">-</span><span class="n">tw</span><span class="o">-</span><span class="n">unmountvdi</span>
</pre></div>
<p>Using the development stable branch.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">./</span><span class="n">help</span><span class="o">-</span><span class="n">steps</span><span class="o">/</span><span class="n">mount</span><span class="o">-</span><span class="n">vdi</span> <span class="o">-</span><span class="n">tw</span>

<span class="n">cd</span> &quot;<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Gateway_image</span>&quot;
## <span class="n">inspect</span>
<span class="n">cd</span> <span class="o">~</span>

<span class="n">sudo</span> <span class="o">./</span><span class="n">help</span><span class="o">-</span><span class="n">steps</span><span class="o">/</span><span class="n">unmount</span><span class="o">-</span><span class="n">vdi</span> <span class="o">-</span><span class="n">tw</span>
</pre></div>
<h2 id="img">IMG</h2>
<h3 id="mount-whonix-gateway-img-images">Mount Whonix-Gateway <em>img</em> images.</h3>
<p>Using the git stable branch.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">./</span><span class="n">whonix_createvm</span> <span class="o">-</span><span class="n">tg</span><span class="o">-</span><span class="n">mountimg</span>

<span class="n">cd</span> &quot;<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Gateway_image</span>&quot;
## <span class="n">inspect</span>
<span class="n">cd</span> <span class="o">~</span>

<span class="n">sudo</span> <span class="o">./</span><span class="n">whonix_createvm</span> <span class="o">-</span><span class="n">tg</span><span class="o">-</span><span class="n">unmountimg</span>
</pre></div>
<p>Using the development stable branch.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">./</span><span class="n">help</span><span class="o">-</span><span class="n">steps</span><span class="o">/</span><span class="n">mount</span><span class="o">-</span><span class="n">img</span> <span class="o">-</span><span class="n">tg</span>

<span class="n">cd</span> &quot;<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Gateway_image</span>&quot;
## <span class="n">inspect</span>
<span class="n">cd</span> <span class="o">~</span>

<span class="n">sudo</span> <span class="o">./</span><span class="n">help</span><span class="o">-</span><span class="n">steps</span><span class="o">/</span><span class="n">unmount</span><span class="o">-</span><span class="n">img</span> <span class="o">-</span><span class="n">tg</span>
</pre></div>
<h3 id="mount-whonix-workstation-img-images">Mount Whonix-Workstation <em>img</em> images.</h3>
<p>Using the git stable branch.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">./</span><span class="n">whonix_createvm</span> <span class="o">-</span><span class="n">tw</span><span class="o">-</span><span class="n">mountimg</span>

<span class="n">cd</span> &quot;<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Workstation_image</span>&quot;
## <span class="n">inspect</span>
<span class="n">cd</span> <span class="o">~</span>

<span class="n">sudo</span> <span class="o">./</span><span class="n">whonix_createvm</span> <span class="o">-</span><span class="n">tw</span><span class="o">-</span><span class="n">unmountimg</span>
</pre></div>
<p>Using the development stable branch.</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="o">./</span><span class="n">help</span><span class="o">-</span><span class="n">steps</span><span class="o">/</span><span class="n">mount</span><span class="o">-</span><span class="n">img</span> <span class="o">-</span><span class="n">tw</span>

<span class="n">cd</span> &quot;<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">whonix_binary</span><span class="o">/</span><span class="n">whonix</span><span class="o">-</span><span class="n">Gateway_image</span>&quot;
## <span class="n">inspect</span>
<span class="n">cd</span> <span class="o">~</span>

<span class="n">sudo</span> <span class="o">./</span><span class="n">help</span><span class="o">-</span><span class="n">steps</span><span class="o">/</span><span class="n">unmount</span><span class="o">-</span><span class="n">img</span> <span class="o">-</span><span class="n">tw</span>
</pre></div>
<h2 id="vmdk">VMDK</h2>
<p>Not yet documented. Please share.</p>
<h2 id="related">Related</h2>
<ul>
<li><a class="" href="https://sourceforge.net/p/whonix/wiki/Dev_SourceCodeIntro/#converting-vmdk-images-to-img-images">Converting .vmdk images to .img images</a></li>
<li><a class="" href="https://sourceforge.net/p/whonix/wiki/Dev_SourceCodeIntro/#unpacking-ova-images">Unpacking .ova images</a></li>
</ul>
<h1 id="footer">Footer</h1>
<div>
<div class="markdown_content"><p>This is a wiki. Want to improve this page? Contact us!</p>
<p><font size="-3">Unless otherwise noted above, content of this particular page is copyrighted by <a class="" href="mailto:adrelanos%20at%20riseup%20dot%20net">adrelanos</a> and licensed under the same Free (as in speech) license as Whonix itself.</font></p></div>
</div>
</div>

  <div id="create_wiki_page_holder" title="Create New Page" style="display:none">
    <form>
        <label class="grid-2">Name</label>
        <div class="grid-7"><input type="text" name="name"/></div>
    </form>
  </div>

          </div>
			
          
  <hr class="grid-19" style="margin-top: 1em; margin-bottom: 2em; clear:both;">
  
  
    <h4>Related</h4>
    <p>
    
      <a href="/p/whonix/wiki/Security%20Guide/">Wiki: Security Guide</a><br>
    
      <a href="/p/whonix/wiki/Dev_SourceCodeIntro/">Wiki: Dev_SourceCodeIntro</a><br>
    
      <a href="/p/whonix/wiki/Metadata/">Wiki: Metadata</a><br>
    
    </p>
  
  

        </div>
      </div>
    </section>
      
<footer id="site-footer">
    <div class="wrapper">
        <nav>
            <h5>SourceForge</h5>
            <a href="/about">About</a>
            <a href="/blog/category/sitestatus/">Site Status</a>
            <a href="http://twitter.com/sfnet_ops">@sfnet_ops</a>
        </nav>
        <nav>
            <h5>Find and Develop Software</h5>
            <a href="/create/">Create a Project</a>
            <a href="/directory/">Software Directory</a>
            <a href="/top">Top Downloaded Projects</a>
        </nav>
        <nav>
            <h5>Community</h5>
            <a href="/blog/">Blog</a>
            <a href="http://twitter.com/sourceforge">@sourceforge</a>
            <a href="/jobs?source=footer">Job Board</a>
        </nav>
        <nav>
            <h5>Help</h5>
            <a href="http://p.sf.net/sourceforge/docs">Site Documentation</a>
            <a href="/support">Support Request</a>
            <a href="http://p.sf.net/sourceforge/irc">Real-Time Support</a>
        </nav>
    </div>
</footer>
<footer id="site-copyright-footer">
    <div class="wrapper">
        <div id="copyright">
            Copyright &copy; 2013 SourceForge. All Rights Reserved.<br />
            SourceForge is a <a href="http://www.diceholdingsinc.com/phoenix.zhtml?c=211152&amp;p=irol-landing">Dice Holdings, Inc.</a> company.
        </div>
        <nav>
            <a href="http://slashdotmedia.com/terms-of-use">Terms</a>
            <a href="http://slashdotmedia.com/privacy-statement/">Privacy</a>
            <a href="http://slashdotmedia.com/opt-out-choices">Cookies/Opt Out</a>
            <a href="http://slashdotmedia.com">Advertise</a>
            <a href="http://sourceforge.jp/">SourceForge.JP</a>
        </nav>
    </div>
</footer>
    <div id="messages">
        
    </div>
    
      <!-- ew:body_js -->

    
      <script type="text/javascript" src="http://a.fsdn.com/allura/nf/1364319766/_ew_/_slim/js?href=allura%2Fjs%2Fjquery-base.js%3Ballura%2Fjs%2Fjquery.notify.js%3Ballura%2Fjs%2Fsylvester.js%3Ballura%2Fjs%2Fpb.transformie.min.js%3Ballura%2Fjs%2Fallura-base.js%3Bjs%2Fjquery.lightbox_me.js%3Bjs%2Fjquery.autosize-min.js%3Bjs%2Fjquery.textarea.js%3Bjs%2Fsf_markitup.js%3Bjs%2Fjquery.tagsinput.js"></script>
    
      
<!-- /ew:body_js -->

    
    
      <!-- ew:body_js_tail -->

    
      <script type="text/javascript">$(function () {
            var $lightbox = $('#lightbox_create_wiki_page');
            var $trigger = $('#sidebar a.add_wiki_page');
            $trigger.bind('click', function(e) {
                $lightbox.lightbox_me();
                return false;
            });
            $($lightbox).delegate('.close', 'click', function(e) {
                $lightbox.trigger('close');
                return false;
            });
        });
$(function () {
            $('#lightbox_create_wiki_page form').submit(function(){
                location.href = $('#sidebar a.add_wiki_page').attr('href') +
                    encodeURIComponent($('input[name=name]', $(this)).val().replace('/', '-')) + '/edit';
                return false;
            });
        });
$(function () {
            $('textarea.auto_resize').focus(function(){$(this).autosize();});
        });
$(document).ready(function () {
            $("a.attachment_form_add_button").click(function(evt){
                $(this).hide();
                $(".attachment_form_fields", this.parentNode).show();
                evt.preventDefault();
            });
            $("a.cancel_edit_post").click(function(evt){
                $("textarea", this.parentNode).val($("input.original_value", this.parentNode).val());
                $(".attachment_form_fields input", this.parentNode).val('');
                evt.preventDefault();
            });
         });

        (function () {
            $('div.discussion-post').each(function () {
                var post = this;
                $('.submit', post).button();
                $('.flag_post', post).click(function (ele) {
                    this.parentNode.submit();
                    return false;
                });
                $('.moderate_post', post).click(function(e){
                    e.preventDefault();
                    var mod = $(this).text();
                    var id_post = $(post).attr('id');
                    $.ajax({
                        type: 'POST',
                        url: this.parentNode.action,
                        data: jQuery(this.parentNode).serialize(),
                        success: function() {
                            if (mod == 'Delete'){
                                $(post).remove();
                            }
                            else if (mod == 'Approve'){
                                $('a.reply_post, a.shortlink, form.moderate_spam, form.moderate_approve', post).toggle();
                                $('div.moderate', post).removeClass('moderate');
                            }
                            else if (mod == 'Spam'){
                                $(post).remove();
                            }
                        }
                    });
                });

                if($('a.edit_post', post)){
                    $('a.edit_post', post).click(function (ele) {
                        $('.display_post', post).hide();
                        $('.edit_post_form', post).show();
                        $('.edit_post_form textarea', post).focus();
                        return false;
                    });
                    $("a.cancel_edit_post", post).click(function(evt){
                        $('.display_post', post).show();
                        $('.edit_post_form', post).hide();
                    });
                }
                if($('.reply_post', post)){
                    $('.reply_post', post).click(function (ele) {
                        $('.reply_post_form', post).show();
                        $('.reply_post_form textarea', post).focus();
                        return false;
                    });
                    $('.reply_post', post).button();
                }
                if($('.add_attachment', post)){
                    $('.add_attachment', post).click(function (ele) {
                        $('.add_attachment_form', post).show();
                        return false;
                    });
                }
                if($('.promote_to_thread', post)){
                    $('.promote_to_thread', post).click(function (ele) {
                        $('.promote_to_thread_form', post).show();
                        return false;
                    });
                }
                if($('.shortlink', post)){
                    var popup = $('.shortlink_popup', post);
                    $('.shortlink', post).click(function(evt){
                        evt.preventDefault();
                        popup.lightbox_me({
                            onLoad: function() {
                                $('input', popup).select();
                            }
                        });
                    });
                    $('.close', popup).bind('click', function() {
                        popup.hide();
                    });
                }
            });
        }());
        
$(function () {
            $('select.results_per_page').change(function () {
                this.form.submit();});});
$(function () {
          $('input.label_edit').tagsInput({
              'height':'100%',
              'width':'100%'
          });
        });

        $(document).ready(function () {
            var thread_tag = $('a.thread_tag');
            var thread_spam = $('a.sidebar_thread_spam');
            var tag_thread_holder = $('#tag_thread_holder');
            var allow_moderate = $('#allow_moderate');
            var mod_thread_link = $('#mod_thread_link');
            var mod_thread_form = $('#mod_thread_form');
            if (mod_thread_link.length) {
                if (mod_thread_form.length) {
                    mod_thread_link.click(function (e) {
                        mod_thread_form.show();
                        return false;
                    });
                }
            }
            if (thread_tag.length) {
                if (tag_thread_holder.length) {
                    var submit_button = $('input[type="submit"]', tag_thread_holder);
                    var cancel_button = $('<a href="#" class="btn link">Cancel</a>').click(function(evt){
                        evt.preventDefault();
                        tag_thread_holder.hide();
                        thread_tag.removeClass('active');
                    });
                    submit_button.after(cancel_button);
                    thread_tag.click(function (e) {
                        tag_thread_holder.show();
                        thread_tag.addClass('active');
                        // focus the submit to scroll to the form, then focus the subject for them to start typing
                        submit_button.focus();
                        $('input[type="text"]', tag_thread_holder).focus();
                        return false;
                    });
                }
            }
            if (thread_spam.length) {
                if (allow_moderate.length) {
                    var cval = $.cookie('_session_id');
                    thread_spam[0].style.display='block';
                }
            }
        });
        </script>
    
      
<!-- /ew:body_js_tail -->

    
    
  <div id="lightbox_create_wiki_page" class="modal" style="display:none">
  <b data-icon="D" class="ico ico-close close"></b>
  
    <h1>Add a Wiki Page</h1>
    <form class="grid-10">
        <label class="grid-2">Name</label>
        <div class="grid-7"><input type="text" name="name"></div>
        <label class="grid-2">&nbsp;</label>
        <div class="grid-7"><input type="submit" value="Create page"></div>
    </form>
  
</div>
<script type="text/javascript">
  /*<![CDATA[*/
  $('.post-link')
    .click(function(evt) {
        var cval = $.cookie('_session_id');
        evt.preventDefault();
        $.post(this.href, {_session_id:cval}, function(val)
            { window.location = val.location; },
            'json');
      });
  /*]]>*/
</script>
  

    
      
    
    
   
    
  </body>
</html>